Version 4
SHEET 1 896 680
WIRE 208 -48 208 -64
WIRE 624 -32 592 -32
WIRE 624 0 624 -32
WIRE 208 48 208 32
WIRE 352 48 208 48
WIRE 480 48 352 48
WIRE 528 48 480 48
WIRE 608 48 528 48
WIRE 736 48 688 48
WIRE 752 48 736 48
WIRE 208 64 208 48
WIRE 352 64 352 48
WIRE 480 64 480 48
WIRE 752 64 752 48
WIRE 208 160 208 144
WIRE 352 160 352 144
WIRE 480 160 480 128
WIRE 752 160 752 144
WIRE 128 416 112 416
WIRE 112 448 112 416
FLAG 208 160 0
FLAG 208 -64 vin
FLAG 64 80 0
FLAG 64 0 vin
FLAG 752 160 0
FLAG 352 160 0
FLAG 480 160 0
FLAG 112 528 0
FLAG 128 416 sample_pulse
FLAG 672 0 0
FLAG 592 -32 sample_pulse
FLAG 736 48 ADC
FLAG 528 48 EN
SYMBOL res 192 -64 R0
SYMATTR InstName R1
SYMATTR Value {RTOP}
SYMBOL voltage 64 -16 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 3
SYMBOL res 736 48 R0
SYMATTR InstName R3
SYMATTR Value {RADC}
SYMBOL res 192 48 R0
SYMATTR InstName R2
SYMATTR Value 100e3
SYMBOL current 352 64 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I1
SYMATTR Value 220E-9
SYMBOL cap 464 64 R0
SYMATTR InstName C1
SYMATTR Value 100e-9
SYMBOL sw 704 48 R90
SYMATTR InstName S1
SYMATTR Value ""
SYMATTR SpiceModel MYSWITCH
SYMBOL voltage 112 432 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(0 1 2E-5 1E-15 1E-15 50E-6)
TEXT 32 184 Left 2 !.tran 1E-4
TEXT 24 224 Left 2 !.param radc=250e3 RTOP=210e3
TEXT 24 264 Left 2 !.step param radc list 240e3 250e3 260e3
TEXT 24 304 Left 2 ;.step oct param rtop 400e3 700e3 10
TEXT 24 344 Left 2 !.model MySwitch SW(Ron=1e-9 Roff=1e105 Vt=0 Vh=-.5 Lser=1e-12)
TEXT 520 224 Left 2 ;0.4V - RTOP=619e3
